<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>仔猫の人類觀察</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://jing1.moe/"/>
  <updated>2021-01-09T07:11:44.101Z</updated>
  <id>http://jing1.moe/</id>
  
  <author>
    <name>El Chiang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>二零二零</title>
    <link href="http://jing1.moe/2021/01/01/2020-summary/"/>
    <id>http://jing1.moe/2021/01/01/2020-summary/</id>
    <published>2021-01-01T15:53:24.000Z</published>
    <updated>2021-01-09T07:11:44.101Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><img src="/2021/01/01/2020-summary/0.jpeg" class=""><p>在 2020 年的最后一天臨近 24 点的時候，我問 喵喵，你覺得 2021 年会更糟糕嗎。因為其實每年都会有不如意的事情發生，19 年如此，18 年也如此，然后人們就会說：今年真的太糟糕了，今年到底怎么了，希望明年会更好，等等…這种話就像是中学班主任總是說的那句「這个班是我帶過的最差的一届」，没什么信服力。但是 2020 客觀來說在近几年来中也算是最极端的一年了。</p><p>虽然在世界看来，2020 很坏，不過對于我来說，2020 還算平淡度過。上半年在家咸魚，由于 offer 充足并且已經确定留在杭州所以也没有繼續面試，每天高强度 動森，補了不少一直没有時間玩的游戲和没有時間看的書和番，其中就包括 116 % 通关度的《空洞騎士》。曾經一度想過能否讀完大学，也在六月真正离开了学校，而我也算進入了另一个階段，這种从学校到社会的轉變就好像之前我一直玩的是一个沙盒类遊戲，到現在突然變成了一个开放世界的遊戲。</p><h2 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h2><img src="/2021/01/01/2020-summary/1.jpeg" class=""><p>工作后虽然周圍同齡人很少，不過還是認識了几个关系還不錯的朋友。實際上我一直是一个欠社交的人，先不說原因，但這并不影响我的表達欲，我樂意分享我的想法和我的生活，所以在群里我總是吐槽工作最多的那一个，其中一个小伙在公司呆的很不开心，在熬過 5 个月后决定离職去 B 站圓他的二次元梦了，還是挺佩服這种說走就走的人。</p><p>畢業后就發現很多事情變得不是那么簡單了，可能在以前，我認定我想要的，就只管往前跑，但是現在会犹豫再三，会邊走邊回頭看。就拿要不要呆在現公司這件事來說，我以前可能覺得，不過是几百道 leetcode 的事，有足够的能力如果我呆得不爽隨時都可以走，現在却發現事實不是這樣的，找不找得到下家并不是决定要不要跳槽的核心因素，有更多别的原因。</p><h2 id="四處走走"><a href="#四處走走" class="headerlink" title="四處走走"></a>四處走走</h2><img src="/2021/01/01/2020-summary/2.jpeg" class=""><p>下半年没有買随心飛，没有出境但是也飛了好些地方。 </p><ul><li>7月份畢業后去深圳和 喵喵 玩了一周，作為正式成為社畜前最后的放松時間，回到杭州后依然没有結束异地，不過我倒不是很在意這点；</li><li>8月組里 outing 去了昆明，距离我上一次去云南已經過去 4 年，当地的排水系統依然很差；</li><li>国慶回家順便去重慶找主席和兔聚了一下，当他們問我想吃什么的時候，我只說了两个字——「辣的」..回到熟悉的bar，仿佛我們都還是学生；</li><li>10 月 喵喵 生日的時候去了北京，走故宮走到脚疼，但是運气很好在珍宝館拍到了小猫；</li></ul><p>另外平常周末去上海的頻率就像去楼下的便利店一樣…</p><h2 id="電影"><a href="#電影" class="headerlink" title="電影"></a>電影</h2><img src="/2021/01/01/2020-summary/3.jpeg" class=""><p>今年由于疫情原因，一共只去了 27 次電影院，大概是去年的一半。今年看的第一部院線是重制的《美麗人生》，最后一部是皮克斯的《心灵奇旅》。在電影院呆的最長的一次是参加諾蘭三連杭州站，在星穿密鑰到期的最后時間，也算彌補了 6 年前没有在 IMAX 看到玉米地追逐的遺憾。今年上影節搶到了四張票，希望明年能多搶幾張🤪</p><h2 id="消費"><a href="#消費" class="headerlink" title="消費"></a>消費</h2><img src="/2021/01/01/2020-summary/4.jpeg" class=""><ul><li>電子產品<ul><li>Apple Watch S6(PRODUCT)RED: 替換了我的小米手環，平時看推送記錄運動摸魚划水都方便了很多</li><li>iPhone 12 mini (PRODUCT)RED: 12 mini 絕對是我近几年最喜歡的手机，小屏愛好者的福音，希望苹果明年不要砍掉這条產品線…</li><li>MagSafe 充電器：无線+磁吸即正義</li><li>紅色編織單圈錶帶：适合秋冬的新錶帶，紅色等了几个月，喵喵 一条我一条</li><li>IQUNIX M80 青軸: 猫咪鍵盤，放在公司用，代替了我用了四年有点丑的 Cherry G80-3494</li><li>小米路由器 AX1800: 拉了寬帶，于是換了个 WiFi6 路由器</li></ul></li><li>遊戲<ul><li>空洞騎士</li><li>どうぶつの森</li><li>奥日与螢火意志</li><li>CELESTE</li><li>健身環</li><li>天穗咲稻姬</li><li>塞爾達无双</li></ul></li><li>JK? 也許需要單獨开一篇</li></ul><p>来到新的城市，所以基本什么都要新買。剛畢業頭三个月，我還想的是，25 歲之前我都不想要存錢，更新了一堆電子產品，没有節制地買了一堆東西，換了3800 一个月的公寓，但是最近心態也發生了變化，工資還完信用卡后剩下的錢 all in 理財和基金，以前我不会刻意省錢，現在下單前也会来回思考，日用品的選購会集中到大促打折期間，并且把学習理財也作為了我的目標之一。</p><h2 id="About-2021"><a href="#About-2021" class="headerlink" title="About 2021"></a>About 2021</h2><p>新的一年开始的時候，人們会立下各种 FLAG，做各种規劃，我們總是問自己想要什么，但是却没有仔細想過「我愿意為此舍弃什么」。我們逃避了残酷的事實——那就是人每天只有24小時，「大人全都要」是不可能的。</p><p>我剛工作那会儿經常苦惱，每晚 9 点多才回家，我如果玩健身環就不能写自己的代碼，選擇写代碼就不能玩遊戲，選擇玩遊戲就不能看漫画，選擇看漫画就不能抽出時間看書逛社区。因為大学里太自由了，我不喜歡去上課，所以有大把的時間供我研究自己喜歡的東西，這种對比給我帶來了极大的失落感。但是后来我想明白了，我的時間就只有這么点，為了一些東西就必須放弃另一些東西，我得知道什么對于我来說更重要。当然，我也可以選擇一份自由時間更多的工作，不過這又回到开始的問題上：我愿意為自由舍弃点什么？</p><p>想明白這一点后，我也就對很多事情都釋懷了。</p><hr><p>写于二零二一年初始，二十二歲。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;img src=&quot;/2021/01/01/2020-summary/0.jpeg&quot; class=&quot;&quot;&gt;

&lt;p&gt;在 2020 年的最后一天臨近 
      
    
    </summary>
    
    
    
      <category term="记录" scheme="http://jing1.moe/tags/%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>2020.7</title>
    <link href="http://jing1.moe/2020/07/22/2020-07-summary/"/>
    <id>http://jing1.moe/2020/07/22/2020-07-summary/</id>
    <published>2020-07-22T12:45:33.000Z</published>
    <updated>2020-07-22T12:49:49.883Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>🌚 明天就要正式成为一名社畜了。</p></blockquote><ul><li>7.3 拿到三证，终于能毕业了</li><li>7.5 离开学校到杭州</li><li>7.6~7.7 看完了隐秘的角落，觉得朱朝阳和我小时候好像。看完那天晚上仔细思索了一下那个结局，突然觉得后背发凉（也许最后活下来的就只有朱朝阳一个？）</li><li>7.8~7.14 去深圳找喵喵玩，不巧遇上了生理期。原本打算周六就回去，结果入职推迟，所以又多玩了几天。看了陈奕迅的线上演唱会，去卓越中心买了 UT 和小米移动电源，吃了好多好多东西。每天像小猫一样，喵喵上班我睡觉，但是必须做一个干净的小猫。不小心弄脏了床单，还挨了骂…14号回杭州，好累，还有好多行李要整理。</li><li>7.15 在喵喵那里开关灯调空调投影仪窗帘都是叫小爱，之前一直觉得 AI 声控的方式我不是很需要，但是没有之后才觉得非常不习惯。买了一些生活用品。</li><li>7.16 完成了体检，第二次作为阿里员工体检了。顺便还拿到了之前微博中奖的《游戏结束》。</li><li>7.17 买的核子束家的两个徽章到了，一个是人类过敏，另一个是请勿搭讪，并且惊奇的发现核子束居然是老乡（从发货地址发现的）…</li><li>7.18 去了一趟西湖，上一次去湖滨步行街的时候都还在修路（大概是半年前？）。Apple Store 人好多，杭州现在还到处都需要绿码才能通行。去湖滨那家乐高看了看，居然是一家旗舰店，哈利波特系列看得我眼馋，不过 3999 的价格让人望而却步，再退后一步讲，就算买了在我的小租屋里也没地方放。吃了喜茶的甜筒🍦，奶味比我平常吃的要浓。买了一杯 arabica 的拿铁，咖啡一般，但是好多人在那拍照。</li><li>7.19 麦当劳喵喵薯夹到了，抽到的是蓝猫猫爪，感觉 59 的价格略贵…晚上和喵喵一起研究上影节的排片，我想看死亡圣器上下、大都会、行骗天下、今敏、言语如苏打般涌现和无声的抵抗，虽然已经预料到了今年 30% 的上座率肯定更难抢hhhh</li><li>7.20 一大早起来抢票，我找了5个朋友和我爸帮我一起抢票，最后只抢到了 4 张…不过我抢到了两张大融城的死亡圣器（上），开心可以和喵喵一起去上海看激光 IMAX 版的 HP 了。</li><li>7.21 时隔 183 天第一次去影院，看的是《第一次的离别》。可能是因为周一，所以那一场观众很少。在亲橙里里面感觉都好现代化…喜茶都是取餐柜取，也不用排队了。</li><li>7.22 检查了一遍入职资料</li><li>7.23 去招行给工资卡换卡面，银行小姐姐说好多人来换这张皮卡丘的卡面。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;🌚 明天就要正式成为一名社畜了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;7.3 拿到三证，终于能毕业了&lt;/li&gt;
&lt;li&gt;7.5 离开学校到杭州&lt;/li&gt;
&lt;li&gt;7.6~7.7 看完了隐秘的角落，觉得朱朝阳和我小时候好像。看完那
      
    
    </summary>
    
    
    
      <category term="记录" scheme="http://jing1.moe/tags/%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>2020.1</title>
    <link href="http://jing1.moe/2020/02/08/january-summary/"/>
    <id>http://jing1.moe/2020/02/08/january-summary/</id>
    <published>2020-02-08T07:52:02.000Z</published>
    <updated>2020-07-22T12:40:09.418Z</updated>
    
    <content type="html"><![CDATA[<p>一月的前半个月在学校备考，期末；后半个月一回家就遇上了 2019 nCov。截止 2020 年 2 月 8 日 15:52，确诊人数已达到 34640 人，目前疫情依旧较为严重，开学时间也推迟待定。在家宅了大半个月，做个简单的一月总结。</p><h2 id="阅读"><a href="#阅读" class="headerlink" title="阅读"></a>阅读</h2><ul><li>怀斯曼求生手册<ul><li>自疫情扩散开始，作为末日幻想症患者的我就开始研究如何在各种极端环境下生存，很实用的生存指南，我还根据这本书写了一篇《末日求生物品清单》</li></ul></li><li>病毒扩散<ul><li>科普读物，前半部分还行，帮我复习了一下高中生物知识 + public health，后半部分内容欠缺</li></ul></li></ul><h2 id="番剧"><a href="#番剧" class="headerlink" title="番剧"></a>番剧</h2><p>目前还在追的番有：</p><ul><li>某科学的超电磁炮T</li><li>地缚少年花子君</li><li>索玛丽与森林之神</li><li>无线系统树</li><li>星掠者</li><li>Re: 从零开始的异世界生活 新编集篇</li><li>因为太怕痛就全点防御力了</li><li>虚构推理</li><li>异度侵入 ID:INVADED</li><li>思维覆写</li><li>齐木楠雄的灾难 始动篇</li><li>入间同学入魔了（19年冬未完结）</li></ul><p>已看完：</p><ul><li>理科生坠入情网，故尝试证明</li><li>Re: 从零开始的异世界生活 Memory Snow</li><li>Sex Education S2（强推，Netflix  Origin 第一可爱的剧！）</li></ul><h2 id="电影"><a href="#电影" class="headerlink" title="电影"></a>电影</h2><ul><li>婚姻故事 2019 / 英国 美国 / 诺亚·鲍姆巴赫</li><li>美丽人生  1997 / 意大利 / 罗伯托·贝尼尼</li><li>紫罗兰永恒花园外传：永远与自动手记人偶  2019 / 日本 / 藤田春香</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;一月的前半个月在学校备考，期末；后半个月一回家就遇上了 2019 nCov。截止 2020 年 2 月 8 日 15:52，确诊人数已达到 34640 人，目前疫情依旧较为严重，开学时间也推迟待定。在家宅了大半个月，做个简单的一月总结。&lt;/p&gt;
&lt;h2 id=&quot;阅读&quot;&gt;&lt;a
      
    
    </summary>
    
    
    
      <category term="记录" scheme="http://jing1.moe/tags/%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>流行病学的介绍和历史</title>
    <link href="http://jing1.moe/2020/01/25/introduction-and-history-of-epidemiology/"/>
    <id>http://jing1.moe/2020/01/25/introduction-and-history-of-epidemiology/</id>
    <published>2020-01-25T12:41:50.000Z</published>
    <updated>2020-02-08T07:05:16.681Z</updated>
    
    <content type="html"><![CDATA[<h2 id="总览"><a href="#总览" class="headerlink" title="总览"></a>总览</h2><p>主要内容：</p><ul><li><p>什么是流行病学 </p></li><li><p>流行病学的历史和不同的公共卫生学说</p></li></ul><p>学习目标：</p><ul><li>定义流行病学</li><li>流行病学在公共卫生中的作用</li><li>描述流行病学怎样支持公共卫生的发展</li><li>描述两种有关人群健康结局的学说：生物医学学说和人口学说</li><li>联系公共卫生的任务和有关群体健康结局的人口学说</li><li>阐述流行病学的发展史</li><li>用人口学说理解 全球健康结局与疾病的负担</li></ul><h2 id="流行病学的历史"><a href="#流行病学的历史" class="headerlink" title="流行病学的历史"></a>流行病学的历史</h2><h3 id="介绍和历史"><a href="#介绍和历史" class="headerlink" title="介绍和历史"></a>介绍和历史</h3><h4 id="什么是流行病学"><a href="#什么是流行病学" class="headerlink" title="什么是流行病学"></a>什么是流行病学</h4><p><strong>流行病学(Epidemiology)</strong> 是一门研究人群健康结局与疾病分布，以及决定健康结局和疾病分布的影响因素的学科。这些决定某人是否获得特定健康结局或疾病的原因称为<em>危险因素</em>。<strong>流行病学家更关注群体水平而非个体水平</strong>。</p><p>直到20世纪早期，流行病学起初的焦点都是传染病。到了20世纪末，计算机日益增长的信息技术和新的方法论，使流行病学领域发生了转变。流行病学已经变成临床科学的标准领域，也是公共卫生中最基础的学科。随着时间的推移，流行病学的定义与核心已经改变：</p><ul><li><p>在19世纪中叶，流行病学只关注传染病和疾病的流行 ；</p></li><li><p>到了20世纪中叶，流行病学的焦点开始全部放在了传染病；</p></li><li><p>在20世纪50年代中期 流行病学范畴不仅包括传染病，还关注与疾病相关的特定条件；</p></li><li><p>到了20世纪60年代 ，流行病学开始关注社区水平上疾病分布的规律；</p></li><li><p>到20世纪80年代后期，流行病学的焦点是如何控制或尽可能减少健康问题和疾病。</p></li></ul><h4 id="流行病学变迁"><a href="#流行病学变迁" class="headerlink" title="流行病学变迁"></a>流行病学变迁</h4><p>流行病学变迁描述了人群年龄分布的改变模式、死亡率、出生率、预期寿命和死亡因素 。农耕时期以来，人类经历了四个主要的疾病变迁 </p><p><strong>第一次变迁与传染病的出现以及营养性疾病有关也和出现了农业活动与食物生产有关</strong>。一万年以前，当人们能够生产食物，驯养动物时他们就减少了对狩猎和放牧的依赖，这种转变导致在农业活动过程中，人畜共患疾病、营养素缺乏症，以及与疾病相关的载体增加。</p><p><strong>第二次变迁是在人类免疫系统和致病生物体都进化的时候，导致大规模流行性疾病向地方病的改变</strong>。人类生理和基因上的发展改良削弱了疾病的作用。</p><p><strong>第三次变迁到来时，疾病模式从传染病转变成慢性退行性疾病</strong>。由于在世界上的发达地区，营养、公共卫生和临床医学水平的提高，心血管疾病和癌症在这次转变中出现，它们通常和寿命的延长以及久坐不动的生活方式有关。</p><p><strong>第四次变迁始于20世纪末，当新的疾病和传染病再度出现时，由于全球化，疾病也会快速传播 。</strong></p><p>那让我们比较一下四次流行病学变迁：</p><p>第一次变迁始于游猎部落，开始适应农耕并定居，这是一次疾病流行从少到多的变迁；第二次变迁是由于，人群免疫抗性的发展和致病生物体的改变，这次变迁是大规模流行到地方病的转变；第三次变迁由于公共卫生和卫生设施的改善，这次变迁是从传染病向非传染性慢性退行性疾病的过渡；第四次变迁的原因是全球化加剧传染病复发且快速传播。</p><h3 id="流行病学的先驱"><a href="#流行病学的先驱" class="headerlink" title="流行病学的先驱"></a>流行病学的先驱</h3><h4 id="希波克拉底-Hippocrates"><a href="#希波克拉底-Hippocrates" class="headerlink" title="希波克拉底(Hippocrates)"></a>希波克拉底(Hippocrates)</h4><p>一些人认为<strong>希波克拉底</strong> 是第一位流行病学家。</p><ul><li>希波克拉底是一名希腊医生，写了一本书描述流行病的书 名为《论风、水和地方》</li><li>认为环境和行为问题可能跟疾病有关</li><li>描述了疟原虫的活动周期以及疟疾的发病特征（发冷期 → 发热期 → 出汗期 → 恶化或冲突期 ）</li><li>赞成沼泽排水来防止瘴气或糟糕的夜晚的空气</li><li>他观察到黄热病和疟疾和人们住在沼泽周围有关</li></ul><h4 id="吉罗拉摩·法兰卡斯特罗-Girolamo-Fracastoro"><a href="#吉罗拉摩·法兰卡斯特罗-Girolamo-Fracastoro" class="headerlink" title="吉罗拉摩·法兰卡斯特罗(Girolamo Fracastoro)"></a>吉罗拉摩·法兰卡斯特罗(Girolamo Fracastoro)</h4><p>意大利医生吉罗拉摩·法兰卡斯特罗是另一个流行病学领域的贡献者。</p><ul><li><p>展现了传染病的传播可以通过直接接触、空气和受污染的 衣服几种方式来发生 </p></li><li><p>在1546年，在传染病的文章，他提出每个疾病是由于快速繁殖的孢子导致的，他提出这些孢子可以通过直接接触空气和受污染的衣服来传播</p></li></ul><h4 id="约翰·格兰特-John-Graunt"><a href="#约翰·格兰特-John-Graunt" class="headerlink" title="约翰·格兰特(John Graunt)"></a>约翰·格兰特(John Graunt)</h4><ul><li><p>第一批人口统计学家之一 投身于流行病学</p><ul><li>人口统计学是一门研究人类人口的统计学科 </li></ul></li><li><p>格兰特在一个图标上计算了存活关系，他展现了在伦敦瘟疫时期人口和死亡率的统计</p></li><li><p>发明和使用的<strong>统计和人口普查方法，成为现代人口统计学的基础</strong> </p></li></ul><h4 id="詹姆斯·林德-James-Lind"><a href="#詹姆斯·林德-James-Lind" class="headerlink" title="詹姆斯·林德(James Lind)"></a>詹姆斯·林德(James Lind)</h4><ul><li><p>苏格兰医生 </p></li><li><p>在1700年代坐船环游世界的时期，许多水手死于败血病，林德对坏血病的产生原因和治疗方法很感兴趣，经过实验认为柑橘类水果可以治疗坏血病</p></li><li><p>林德的工作对预防医学的领域非常有益使营养得到改善</p></li><li><p>现代临床试验的开端</p></li></ul><h4 id="珀西瓦尔·波特-Percivall-Pott"><a href="#珀西瓦尔·波特-Percivall-Pott" class="headerlink" title="珀西瓦尔·波特(Percivall Pott)"></a>珀西瓦尔·波特(Percivall Pott)</h4><ul><li><p>英国1700年代的外科医生</p></li><li><p>被认为是揭示环境致癌物质可能导致癌症的第一人 </p></li><li><p>波特的工作是现代非传染病流行病学的开端 </p></li></ul><h4 id="威廉·法尔-William-Farr"><a href="#威廉·法尔-William-Farr" class="headerlink" title="威廉·法尔(William Farr)"></a>威廉·法尔(William Farr)</h4><ul><li><p>被认为是现代流行病学创始人之一的流行病学家 </p></li><li><p>获得统计数据，测试社会假设 </p></li><li><p>将死因以一种占决定健康的整体因素来分类 </p></li><li><p>证明了人口密度和死亡率之间的关系 </p></li><li><p>绘制死亡地图监控疫情</p></li><li><p>发明的死亡率数据系统是今天使用的国际疾病分类系统的前身 </p></li></ul><h4 id="埃德温·查德威克-Edwin-Chadwick"><a href="#埃德温·查德威克-Edwin-Chadwick" class="headerlink" title="埃德温·查德威克(Edwin Chadwick)"></a>埃德温·查德威克(Edwin Chadwick)</h4><ul><li><p>支持疾病与人们生活条件有直接关系的理论，认为公共卫生和社会改革十分必要 </p></li><li><p>提出许多方面需要提高，例如干净新鲜的水，在每个家里都有的冲洗厕所的房间即盥洗室，还有污水系统</p></li><li><p>在1842年的劳动人口卫生状况上发表想法：他认为穷人健康状况的改善有利于整个国家 </p></li></ul><h4 id="约翰·斯诺-John-Snow"><a href="#约翰·斯诺-John-Snow" class="headerlink" title="约翰·斯诺(John Snow)"></a>约翰·斯诺(John Snow)</h4><ul><li>现代流行病学之父</li><li>找到了1865年伦敦爆发的霍乱（约有 600 人死亡）的传播途径：水传播，也找到了根源：水泵</li></ul><p>流行病学的定义 和流行病学如何融入公共卫生中</p><h2 id="流行病学领域"><a href="#流行病学领域" class="headerlink" title="流行病学领域"></a>流行病学领域</h2><h3 id="应用流行病学的研究领域的例子"><a href="#应用流行病学的研究领域的例子" class="headerlink" title="应用流行病学的研究领域的例子"></a>应用流行病学的研究领域的例子</h3><p>在流行病学下由于许多的专业分支，许多流行病学家专注某个领域的研究。流行病学可以应用到不同公共卫生领域：传染病、慢性病、妇幼健康、伤害、环境健康、营养、健康政策以及健康行为等。</p><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>流行病学有许多定义，在 19 世纪中期，流行病学这个词首次被用于描述流行病这一科学研究。这里采用的定义是：<strong>流行病学是一门研究特定人群疾病或健康结局的分布和决定因素的学科，并将研究应用到健康问题的控制的学科。</strong></p><p>流行病学的意义在多年来已经扩大，现在的流行病学囊括了被影响的人群的各种疾病，健康结局和伤害的研究。它可以融入公共卫生中，例如，流行病学已经被用在评估免疫项目的成功性。<strong>公共卫生是一个多学科领域，它的目标是通过有组织的社区工作，促进人群的健康</strong>。公共卫生<strong>保护</strong>健康免受威胁，使人们过上健康的生活，<strong>提高</strong>卫生服务质量，并且<strong>预防</strong>来提高健康。</p><p>流行病学主要运用在公共卫生的两个方面：</p><ul><li><p><strong>预防</strong>  如提高公众对使用儿童汽车安全座椅的意识 </p></li><li><p><strong>干预措施</strong>  如降低健康食品的成本来促进健康饮食</p></li></ul><h4 id="公共卫生预防"><a href="#公共卫生预防" class="headerlink" title="公共卫生预防"></a>公共卫生预防</h4><p>公共卫生预防有三个等级：</p><ul><li><p><strong>初级预防</strong>发生在一个人有了健康结局并试图预防健康结局发生之前。初级预防可以减少患病率和健康结局的风险或风险率。疫苗接种是初级健康预防的一个例子，疫苗通过感染预防疾病 </p></li><li><p><strong>二级预防</strong>发生在一个疾病发生之后但在一个人注意到症状之前。二级预防旨在早期找出和治疗疾病，这可能使疾病被治愈。二级预防的例子有医生检查 可疑的皮肤生长以便及早发现和治疗皮肤癌 </p></li><li><p><strong>三级预防</strong>是指一个人已经有了疾病的症状。三级预防的目的是防止疾病带来的伤害和疼痛，延缓疾病发展，预防并发症，提供更好的治疗并且帮助人们康复。三级预防的例子有提供饮食建议来帮助控制糖尿病的症状</p></li></ul><h4 id="干预措施"><a href="#干预措施" class="headerlink" title="干预措施"></a>干预措施</h4><p>流行病学也可被用来评估人群中的干预措施。公共卫生中的干预措施可以发生在两个水平上：个人或结构水平。</p><p><strong>个人干预</strong>措施焦点在改变个人风险因素或行为，个人干预方法依赖于人们有自主能力来做出选择的假设，然后遵从他们的选择。</p><p><strong>结构干预</strong>措施的焦点是改变环境中物、 社会或经济上的因素来促进公共卫生。提供干净的饮用水、提高道路安全水平、改变汽车设计或改变城市设计来增加身体活动都是结构干预措施的例子。</p><p>结构干预措施依赖于公共卫生问题有一些社会因果关系的假设。</p><p>因此，流行病学是一门研究特定人群疾病或健康结局的分布，并应用到健康问题的控制的学科。</p><h3 id="人、地点、时间以及流行病学中的人群"><a href="#人、地点、时间以及流行病学中的人群" class="headerlink" title="人、地点、时间以及流行病学中的人群"></a>人、地点、时间以及流行病学中的人群</h3><p>我们可以从两个角度来描述人群中疾病的特征：生物医学角度和人群角度。</p><h4 id="描述性流行病学"><a href="#描述性流行病学" class="headerlink" title="描述性流行病学"></a>描述性流行病学</h4><p>描述性流行病学涉及人的特点，诸如年龄、性别、种族和社会经济地位，地方特征如国家、省、州、市 邮编或人口普查区，时间的特征如按周或按天计的长期趋势、短期变化。当我们提问什么是一个疾病或健康结局在人群中的分布或模式时，我们说的就是描述性流行病学。</p><p>描述性流行病学研究的是人群中疾病的频率和分布或风险因素。描述性流行病学可以用于提出假设，但通常不能用于检测假设。描述性流行病学也可以用来发现问题，再用分析性流行病学来研究这些问题。</p><h4 id="分析性流行病学"><a href="#分析性流行病学" class="headerlink" title="分析性流行病学"></a>分析性流行病学</h4><p>分析性流行病学的目的是研究和探讨风险因素以及疾病的防范因素。当我们问这种疾病模式或健康结局的基础原因是什么，并研究这些原因时，我们就要用分析性流行病学。采用比较组是分析性流行病学的主要特点，它的重点是寻找原因和效应。</p><h4 id="描述疾病的两个角度"><a href="#描述疾病的两个角度" class="headerlink" title="描述疾病的两个角度"></a>描述疾病的两个角度</h4><p>现在我们简要讨论一下关于疾病和健康的两个不同的角度：即生物医学角度和人群角度。</p><p>生物医学角度：</p><ul><li>关注生物因素，比如特定的致病因素，以及它们的机制</li><li>关注的是健康结局的单独风险因素</li><li>不涉及社会和环境因素</li></ul><p>人群角度：</p><ul><li>关注与健康结局相关的社会、心理以及环境因素：比如人的住房条件会影响他们的健康</li></ul><p>研究者怎样来确定哪些特定的因素会影响人群的健康呢？ 一种方法是从人群角度来考察事物。从人群角度我们观察近端的或下游的，以及远端的或上游的因素 。</p><p>下游的健康因素是微观水平的因素，包括生理学和生物学因素，比如基因组成、年龄、种族特点 性别以及免疫状态。下游的决定因素通常与身体不适和疾病相关，可以用不可改变的风险因素来确认高危人群，及开展有目的的干预措施。</p><p>上游健康因素是宏观水平的因素，例如全球力量和政府政策。上游的公共卫生手段试图在源头预防健康问题，这样就不需要在下游纠正了，比如社区规划、教育、就业、生活、工作条件，以及贫困等因素，都是可以在上游处理的 主要健康决定因素。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;总览&quot;&gt;&lt;a href=&quot;#总览&quot; class=&quot;headerlink&quot; title=&quot;总览&quot;&gt;&lt;/a&gt;总览&lt;/h2&gt;&lt;p&gt;主要内容：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;什么是流行病学 &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;流行病学的历史和不同的公共卫生学说&lt;/p&gt;

      
    
    </summary>
    
    
    
      <category term="流行病学" scheme="http://jing1.moe/tags/%E6%B5%81%E8%A1%8C%E7%97%85%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>末日求生物品清单</title>
    <link href="http://jing1.moe/2020/01/24/end-of-the-world-todolist/"/>
    <id>http://jing1.moe/2020/01/24/end-of-the-world-todolist/</id>
    <published>2020-01-24T06:51:15.000Z</published>
    <updated>2020-02-08T06:57:37.006Z</updated>
    
    <content type="html"><![CDATA[<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>灾难的出现常伴随着一定的征兆，末日来临，谣言肆起，因此一定要保持冷静，优先根据新闻内容调整策略。切勿坐在电脑前或一直抱着你的手机刷微博！这时候你还有很多其他事情要准备。</p><p>生存必需品：食物、火、避难所、水、导航、药物</p><p>计划：</p><p>在末日中，一个团队里的成员最好有专门的人负责下面的事情：</p><ul><li>医疗</li><li>翻译</li><li>烹饪</li><li>特殊装备</li><li>车辆维护</li><li>驾驶</li><li>战斗力（也许需要打丧尸）</li></ul><h2 id="食物"><a href="#食物" class="headerlink" title="食物"></a>食物</h2><p>首先，如果不确定自己是否会受困，最好先准备一些储备粮。末日食物的选择条件：</p><ol><li><strong>保质期长</strong>；</li><li><strong>方便携带、方便食用。</strong></li></ol><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>水</td><td>必需品（喝完的瓶子最好别扔，容器在末日还有其他用途）</td></tr><tr><td>压缩饼干</td><td>保质期长、能量高</td></tr><tr><td>罐头类食品</td><td>相比于压缩饼干营养价值更高，保质期较长，水果罐头还能补充维生素</td></tr><tr><td>酒/酒精</td><td>消毒、充当燃料，同样保质期也很长</td></tr><tr><td>蜂蜜（备选）</td><td><strong>只要贮藏得当，它几乎不会变质</strong>，也许是末日最方便的糖分补充来源</td></tr><tr><td>巧克力（备选）</td><td>能量高、方便携带</td></tr><tr><td>脱水蔬菜</td><td>防止便秘，有利健康</td></tr></tbody></table><p>另外，还可以准备一些种子，不是拿给你吃的，而是当灾难结束后，你可以和幸存者一起开荒种田，创造新世界。</p><h2 id="药品"><a href="#药品" class="headerlink" title="药品"></a>药品</h2><table><thead><tr><th>类型</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>感冒药</td><td>缓解流鼻涕、头疼、发烧、咳嗽等症状为主</td><td></td></tr><tr><td>止痛药</td><td>缓解头痛、牙痛、胃痛、经痛等，减轻痛苦</td><td>布洛芬、对乙酰氨基酚</td></tr><tr><td>肠胃药</td><td>用来治疗急性或慢性腹泻</td><td></td></tr><tr><td>外用药</td><td>处理外伤、蚊虫叮咬等</td><td>75%酒精、碘酒、头孢等</td></tr><tr><td>抗生素</td><td>可用来治疗常见的细菌性干扰</td><td></td></tr><tr><td>维生素</td><td>末日环境饮食过于单一，需要各类维生素片</td><td>维生素复合片就可以</td></tr><tr><td>抗过敏</td><td></td><td></td></tr><tr><td>纱布/胶布/药棉</td><td>包扎伤口</td><td></td></tr><tr><td>口罩/护目镜/防毒面具/体温计</td><td>防止感染</td><td></td></tr><tr><td>手术刀/剪刀/缝合线</td><td>处理伤口</td><td></td></tr></tbody></table><p><em>*此外还需要根据自身疾病带上相应药物。</em></p><h2 id="装备"><a href="#装备" class="headerlink" title="装备"></a>装备</h2><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>水壶</td><td>良好的饮用水容器</td></tr><tr><td>通讯设备</td><td>手机/对讲机/收音机/卫星电话（做好无信号的准备）</td></tr><tr><td>电源</td><td>发电机/移动电源/电池</td></tr><tr><td>火源</td><td>打火机/火柴，生火技能很重要（保暖、烧水）</td></tr><tr><td>衣物</td><td>尽量以实用为主，颜色醒目的冲锋衣有利于在末日营救中别人发现你，如果有隐蔽的需要可以选择户外迷彩服</td></tr><tr><td>登山靴</td><td>结实和舒适是关键，防水性能也很重要</td></tr><tr><td>刀具</td><td>剪刀、手术刀等等</td></tr><tr><td>武器</td><td>Keep calm and shoot enemy in the head</td></tr><tr><td>手电筒</td><td>紧急照明，需要结实耐用的</td></tr><tr><td>TDS水质检测</td><td>检测水源是否适合饮用</td></tr><tr><td>本子、笔</td><td>如果有能力，坚持记录，方便后人考古</td></tr></tbody></table><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><ul><li>要活下去</li><li>活下来不一定代表幸运，但是如果你得以存活，永远不要放弃希望。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;准备&quot;&gt;&lt;a href=&quot;#准备&quot; class=&quot;headerlink&quot; title=&quot;准备&quot;&gt;&lt;/a&gt;准备&lt;/h2&gt;&lt;p&gt;灾难的出现常伴随着一定的征兆，末日来临，谣言肆起，因此一定要保持冷静，优先根据新闻内容调整策略。切勿坐在电脑前或一直抱着你的手机刷微博！这时
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>2020 书单</title>
    <link href="http://jing1.moe/2020/01/17/2020-reading-list/"/>
    <id>http://jing1.moe/2020/01/17/2020-reading-list/</id>
    <published>2020-01-16T16:00:00.000Z</published>
    <updated>2020-02-08T07:31:50.199Z</updated>
    
    <content type="html"><![CDATA[<p><em>持续更新中…</em></p><h2 id="已经读完的书"><a href="#已经读完的书" class="headerlink" title="已经读完的书"></a>已经读完的书</h2><ul><li>生存手册：应该皇家特种部队权威教程，[英]约翰 · 怀斯曼</li><li>病毒来袭：如何应对下一场流行病爆发，[美]内森 · 沃尔夫</li></ul><h2 id="进行中（又名，拖延）的书"><a href="#进行中（又名，拖延）的书" class="headerlink" title="进行中（又名，拖延）的书"></a>进行中（又名，拖延）的书</h2><ul><li>霍乱时期的爱情，[哥伦比亚]加西亚 · 马尔克斯</li><li>十日谈，[意]薄伽丘</li></ul><h2 id="下辈子才会开始的书"><a href="#下辈子才会开始的书" class="headerlink" title="下辈子才会开始的书"></a>下辈子才会开始的书</h2><ul><li>故事：材质、结构、风格和银幕剧作的原理</li><li>真名实姓，[美]弗诺 · 文奇</li><li>呼吸，[美]特德 · 姜</li></ul><h2 id="弃书"><a href="#弃书" class="headerlink" title="弃书"></a>弃书</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;em&gt;持续更新中…&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;已经读完的书&quot;&gt;&lt;a href=&quot;#已经读完的书&quot; class=&quot;headerlink&quot; title=&quot;已经读完的书&quot;&gt;&lt;/a&gt;已经读完的书&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;生存手册：应该皇家特种部队权威教程，[英]约翰 ·
      
    
    </summary>
    
    
    
      <category term="阅读" scheme="http://jing1.moe/tags/%E9%98%85%E8%AF%BB/"/>
    
      <category term="记录" scheme="http://jing1.moe/tags/%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>Windows 下为 Git 配置代理</title>
    <link href="http://jing1.moe/2020/01/12/git-ssh-proxy-on-win/"/>
    <id>http://jing1.moe/2020/01/12/git-ssh-proxy-on-win/</id>
    <published>2020-01-11T16:00:00.000Z</published>
    <updated>2020-01-13T08:05:06.814Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0-问题"><a href="#0-问题" class="headerlink" title="0. 问题"></a>0. 问题</h2><p>重装电脑后重新配置 Git 的时候发现克隆仓库时速度极慢，记录一下几种代理方法。</p><h2 id="1-基本常识"><a href="#1-基本常识" class="headerlink" title="1. 基本常识"></a>1. 基本常识</h2><p>git clone 有两种方式，一是 HTTP(S)，另一种是 SSH。形式分别为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/&lt;username&gt;/&lt;repo&gt;.git</span><br><span class="line">git <span class="built_in">clone</span> git@github.com/&lt;username&gt;/&lt;repo&gt;.git</span><br></pre></td></tr></table></figure><p>另外，Shadowsocks 有两种代理方式，一是基于 HTTP，另一种基于 Socks5。</p><p>下面介绍分别为两种 Git 协议设置两种代理协议的方法。</p><h2 id="2-配置方法"><a href="#2-配置方法" class="headerlink" title="2. 配置方法"></a>2. 配置方法</h2><h3 id="2-1-HTTP-方式的-HTTP-代理"><a href="#2-1-HTTP-方式的-HTTP-代理" class="headerlink" title="2.1 HTTP 方式的 HTTP 代理"></a>2.1 HTTP 方式的 HTTP 代理</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy http://127.0.0.1:1080</span><br><span class="line">git config --global https.proxy https://127.0.0.1:1080</span><br></pre></td></tr></table></figure><blockquote><p>1080 改为自己本地代理端口。</p></blockquote><h3 id="2-2-HTTP-方式的-Socks5-代理"><a href="#2-2-HTTP-方式的-Socks5-代理" class="headerlink" title="2.2 HTTP 方式的 Socks5 代理"></a>2.2 HTTP 方式的 Socks5 代理</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy socks5://127.0.0.1:1081</span><br><span class="line">git config --global https.proxy socks5://127.0.0.1:1081</span><br></pre></td></tr></table></figure><blockquote><p>1081 改为自己本地代理端口。</p></blockquote><p>以上两种方式会导致所有的 git 命令都走代理，如果你仅仅想对 GitHub 进行配置，则可以这样配置：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.https://github.com.proxy socks5://127.0.0.1:1080</span><br><span class="line">git config --global https.https://github.com.proxy socks5://127.0.0.1:1080</span><br><span class="line"></span><br><span class="line">git config --global http.https://github.com.proxy https://127.0.0.1:1081</span><br><span class="line">git config --global https.https://github.com.proxy https://127.0.0.1:1081</span><br></pre></td></tr></table></figure><h3 id="2-3-SSH-方式的-HTTP-代理"><a href="#2-3-SSH-方式的-HTTP-代理" class="headerlink" title="2.3 SSH 方式的 HTTP 代理"></a>2.3 SSH 方式的 HTTP 代理</h3><p>参考 <a href="https://stackoverflow.com/questions/5103083/ssh-in-git-behind-proxy-on-windows-7" target="_blank" rel="noopener">StackOverflow: SSH in git behind proxy on windows 7</a></p><h3 id="2-4-SSH-方式的-Socks5-代理"><a href="#2-4-SSH-方式的-Socks5-代理" class="headerlink" title="2.4 SSH 方式的 Socks5 代理"></a>2.4 SSH 方式的 Socks5 代理</h3><p>首先需要使用的 <code>connect.exe</code> 工具已经在 Git 中预置了，可以如下确认：</p><img src="/2020/01/12/git-ssh-proxy-on-win/0.png" class=""><p>然后创建 <code>~/.ssh/config</code> 文件，并添加以下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 这里的 -a none 是 NO-AUTH 模式，参见 https:&#x2F;&#x2F;bitbucket.org&#x2F;gotoh&#x2F;connect&#x2F;wiki&#x2F;Home 中的 More detail 一节</span><br><span class="line">ProxyCommand connect -S 127.0.0.1:1080 -a none %h %p</span><br><span class="line"></span><br><span class="line">Host github.com</span><br><span class="line">  User git</span><br><span class="line">  Port 22</span><br><span class="line">  Hostname github.com</span><br><span class="line">  # 注意修改路径为你的路径</span><br><span class="line">  IdentityFile &quot;C:\Users\jing1\.ssh\id_rsa&quot;</span><br><span class="line">  TCPKeepAlive yes</span><br><span class="line"></span><br><span class="line">Host ssh.github.com</span><br><span class="line">  User git</span><br><span class="line">  Port 443</span><br><span class="line">  Hostname ssh.github.com</span><br><span class="line">  # 注意修改路径为你的路径</span><br><span class="line">  IdentityFile &quot;C:\Users\jing1\.ssh\id_rsa&quot;</span><br><span class="line">  TCPKeepAlive yes</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;0-问题&quot;&gt;&lt;a href=&quot;#0-问题&quot; class=&quot;headerlink&quot; title=&quot;0. 问题&quot;&gt;&lt;/a&gt;0. 问题&lt;/h2&gt;&lt;p&gt;重装电脑后重新配置 Git 的时候发现克隆仓库时速度极慢，记录一下几种代理方法。&lt;/p&gt;
&lt;h2 id=&quot;1-基本常识&quot;
      
    
    </summary>
    
    
    
      <category term="Git" scheme="http://jing1.moe/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>心态转变</title>
    <link href="http://jing1.moe/2019/12/30/191230/"/>
    <id>http://jing1.moe/2019/12/30/191230/</id>
    <published>2019-12-29T16:00:00.000Z</published>
    <updated>2020-02-08T08:21:45.489Z</updated>
    
    <content type="html"><![CDATA[<p>微博发的越来越少了。一是因为既不想关心别人也不想让别人关心自己。二是孤独让我面对社交网络无话可说。大多数争论看起来都是鸡同鸭讲，对牛弹琴，费时费力。大概会重新开始使用个人博客说话而不是社交媒体吧。</p><p>只想把关心留给自己在乎的几个人。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;微博发的越来越少了。一是因为既不想关心别人也不想让别人关心自己。二是孤独让我面对社交网络无话可说。大多数争论看起来都是鸡同鸭讲，对牛弹琴，费时费力。大概会重新开始使用个人博客说话而不是社交媒体吧。&lt;/p&gt;
&lt;p&gt;只想把关心留给自己在乎的几个人。&lt;/p&gt;

      
    
    </summary>
    
    
    
      <category term="生活" scheme="http://jing1.moe/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>微信小程序 UI 测试方案</title>
    <link href="http://jing1.moe/2018/05/21/wechat-applet-ui-test/"/>
    <id>http://jing1.moe/2018/05/21/wechat-applet-ui-test/</id>
    <published>2018-05-20T16:00:00.000Z</published>
    <updated>2020-01-12T20:09:42.643Z</updated>
    
    <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ul><li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></li><li><a href="https://github.com/chemzqm/wept" target="_blank" rel="noopener">wept</a></li><li><a href="https://github.com/GoogleChrome/puppeteer" target="_blank" rel="noopener">puppeteer</a></li><li><a href="https://github.com/facebook/jest" target="_blank" rel="noopener">Jest</a></li></ul><h2 id="工具介绍"><a href="#工具介绍" class="headerlink" title="工具介绍"></a>工具介绍</h2><h3 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h3><p>这个解决方案中要求 node 版本大于 <code>v7.6.0</code>，因为 <code>puppeteer</code> 要求最低版本是 <code>v6.4.0</code> ，但是官方实例中大量使用 <code>async</code> <code>await</code> 新特性，所以需要使用 <code>v7.6.0</code> 或更高版本的 node。</p><h3 id="wept"><a href="#wept" class="headerlink" title="wept"></a>wept</h3><p><code>wept</code>是一个微信小程序web端实时运行工具。它的后台使用 node 提供服务完全动态生成小程序，前端实现了 view 层、service 层和控制层之间的相关通讯逻辑。支持 Mac, Window 以及 Linux。</p><h3 id="puppeteer"><a href="#puppeteer" class="headerlink" title="puppeteer"></a>puppeteer</h3><p>Chrome 团队出品的一款更友好的 Headless Chrome Node API ，用于代替用户在页面上面点击、拖拽、输入等多种操作，常见的使用场景还是应用到 UI 自动化测试，puppeteer 可以对页面进行截图保存为图片或者 PDF，解决爬虫无法实现的一些操作（异步加载页面内容） 。</p><p>其他类似的工具：</p><ul><li><a href="http://phantomjs.org/" target="_blank" rel="noopener">phantomjs</a></li><li><a href="http://seleniumhq.github.io/selenium/docs/api/javascript/" target="_blank" rel="noopener">seleniumhq</a></li><li><a href="https://github.com/segmentio/nightmare" target="_blank" rel="noopener">nightmare</a></li></ul><p>在 <code>puppeteer</code> 出来以后，<code>phantomjs</code> 即宣布不再继续开发维护，而 <code>puppeteer</code> 的使用更简单，功能更丰富，所以这里选择了<code>puppeteer</code>。</p><h3 id="Jest"><a href="#Jest" class="headerlink" title="Jest"></a>Jest</h3><p><code>Jest</code> 是 Facebook 出品的一个测试框架，相对其他测试框架，其一大特点就是就是内置了常用的测试工具，比如自带断言、测试覆盖率工具，实现了开箱即用。</p><p>其他类似的工具：</p><ul><li><a href="https://github.com/mochajs/mocha" target="_blank" rel="noopener">mocha</a></li><li><a href="https://github.com/chaijs/chai" target="_blank" rel="noopener">chai</a></li></ul><h2 id="开始配置环境"><a href="#开始配置环境" class="headerlink" title="开始配置环境"></a>开始配置环境</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g wept</span><br><span class="line">npm i --save-dev puppeteer jest</span><br></pre></td></tr></table></figure><h3 id="踩过的坑"><a href="#踩过的坑" class="headerlink" title="踩过的坑"></a>踩过的坑</h3><p>在安装<code>puppeteer</code>有可能会出现以下报错：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ERROR: Failed to download Chromium r508693! Set "PUPPETEER_SKIP_CHROMIUM_DOWNLOAD" env variable to skip download.</span><br><span class="line">Error: Download failed: server returned code 502. URL: https://storage.googleapis.com/chromium-browser-snapshots/Win_x64/508693/chrome-win32.zip</span><br><span class="line">    at ClientRequest.https.get.response (D:\chromium\node_modules\puppeteer\utils\ChromiumDownloader.js:197:21)</span><br><span class="line">    at Object.onceWrapper (events.js:316:30)</span><br><span class="line">    at emitOne (events.js:115:13)</span><br><span class="line">    at ClientRequest.emit (events.js:210:7)</span><br><span class="line">    at HTTPParser.parserOnIncomingClient [as onIncoming] (_http_client.js:565:21)</span><br><span class="line">    at HTTPParser.parserOnHeadersComplete (_http_common.js:116:23)</span><br><span class="line">    at Socket.socketOnData (_http_client.js:454:20)</span><br><span class="line">    at emitOne (events.js:115:13)</span><br><span class="line">    at Socket.emit (events.js:210:7)</span><br><span class="line">    at ClientRequest.onsocket (D:\chromium\node_modules\https-proxy-agent\index.js:181:14)</span><br></pre></td></tr></table></figure><p>原因是安装 <code>puppeteer</code> 时，都会下载 Chromium，然而墙内网络环境不友好可能会导致下载失败。</p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>安装<code>puppeteer</code>时直接跳过Chromium的下载：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install puppeteer --ignore-scripts</span><br></pre></td></tr></table></figure><p>手动下载 Chrome 开发版，Win 平台下载链接是<a href="https://storage.googleapis.com/chromium-browser-snapshots/Win_x64/508693/chrome-win32.zip" target="_blank" rel="noopener">https://storage.googleapis.com/chromium-browser-snapshots/Win_x64/508693/chrome-win32.zip</a></p><p>翻开仓库源码可以得知其他下载地址：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> downloadURLs = &#123;</span><br><span class="line">    linux: <span class="string">'https://storage.googleapis.com/chromium-browser-snapshots/Linux_x64/%d/chrome-linux.zip'</span>,</span><br><span class="line">    mac: <span class="string">'https://storage.googleapis.com/chromium-browser-snapshots/Mac/%d/chrome-mac.zip'</span>,</span><br><span class="line">    win32: <span class="string">'https://storage.googleapis.com/chromium-browser-snapshots/Win/%d/chrome-win32.zip'</span>,</span><br><span class="line">    win64: <span class="string">'https://storage.googleapis.com/chromium-browser-snapshots/Win_x64/%d/chrome-win32.zip'</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>选择对应平台，将<code>%d</code>替换成具体编号下载即可。</p><h2 id="一个测试实例"><a href="#一个测试实例" class="headerlink" title="一个测试实例"></a>一个测试实例</h2><h3 id="执行wept"><a href="#执行wept" class="headerlink" title="执行wept"></a>执行wept</h3><p>直接在小程序根目录执行<code>wept</code>，然后打开chrome访问<a href="http://localhost:3000/#!pages/index/index" target="_blank" rel="noopener">http://localhost:3000/#!pages/index/index</a> ，就可以看到小程序运行在chrome上了</p><p><img src="https://cl.ly/3D0g2w2H2m1L/Image%202018-05-19%20at%206.44.47%20PM.png" alt="img"></p><h3 id="用-puppeteer-抓取小程序里的内容"><a href="#用-puppeteer-抓取小程序里的内容" class="headerlink" title="用 puppeteer 抓取小程序里的内容"></a>用 puppeteer 抓取小程序里的内容</h3><p>新建一个 <code>/test</code> 目录，并增加一个 <code>hello.test.js</code> 测试，直接上代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> puppeteer = <span class="built_in">require</span>(<span class="string">'puppeteer'</span>);</span><br><span class="line"><span class="keyword">const</span> devices = <span class="built_in">require</span>(<span class="string">'puppeteer/DeviceDescriptors'</span>);</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> browser = <span class="keyword">await</span> puppeteer.launch(&#123;</span><br><span class="line">            <span class="comment">// 如果是手动下载chromium则需要制定chromium所在目录的地址</span></span><br><span class="line">            <span class="comment">// executablePath: '/chromium/chrome.exe'</span></span><br><span class="line">            headless: <span class="literal">false</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// 新建选项卡</span></span><br><span class="line">        <span class="keyword">const</span> page = <span class="keyword">await</span> browser.newPage();</span><br><span class="line">        <span class="comment">// 设置展示设备</span></span><br><span class="line">        <span class="keyword">await</span> page.emulate(devices[<span class="string">'iPhone 6'</span>]);</span><br><span class="line">        <span class="comment">// waitUnitil参数为了保证截图不是白屏</span></span><br><span class="line">        <span class="keyword">await</span> page.goto(<span class="string">'http://localhost:3000/#!pages/index/index'</span>, &#123; <span class="attr">waitUntil</span>: <span class="string">'networkidle2'</span> &#125;);</span><br><span class="line">        <span class="comment">// 截图</span></span><br><span class="line">        <span class="comment">// await page.screenshot(&#123;path: 'example.png'&#125;);</span></span><br><span class="line">        <span class="comment">// 根据iframe的name属性来获取正确的iframe</span></span><br><span class="line">        <span class="keyword">const</span> frames = <span class="keyword">await</span> page.frames();</span><br><span class="line">        <span class="keyword">const</span> weChatFrame = frames.find(<span class="function"><span class="params">f</span> =&gt;</span> f.name() === <span class="string">'view-0'</span>);</span><br><span class="line">        <span class="keyword">const</span> outerText = <span class="keyword">await</span> weChatFrame.evaluate(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> anchors = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.container'</span>));</span><br><span class="line">            <span class="keyword">return</span> anchors.map(<span class="function"><span class="params">anchor</span> =&gt;</span> anchor.textContent);</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'the outerText: '</span>, outerText);</span><br><span class="line">        <span class="comment">// 关闭页面</span></span><br><span class="line">        <span class="keyword">await</span> browser.close();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h3 id="加入-Jest-来进行测试"><a href="#加入-Jest-来进行测试" class="headerlink" title="加入 Jest 来进行测试"></a>加入 Jest 来进行测试</h3><p>完整代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> puppeteer = <span class="built_in">require</span>(<span class="string">'puppeteer'</span>);</span><br><span class="line"><span class="keyword">const</span> devices = <span class="built_in">require</span>(<span class="string">'puppeteer/DeviceDescriptors'</span>);</span><br><span class="line"></span><br><span class="line">test(<span class="string">'should return "Hello WorldHello World"'</span>, () =&gt; &#123;</span><br><span class="line">    (<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> browser = <span class="keyword">await</span> puppeteer.launch(&#123;</span><br><span class="line">                headless: <span class="literal">false</span></span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">const</span> page = <span class="keyword">await</span> browser.newPage();</span><br><span class="line">            <span class="keyword">await</span> page.emulate(devices[<span class="string">'iPhone 6'</span>]);</span><br><span class="line">            <span class="keyword">await</span> page.goto(<span class="string">'http://localhost:3000/#!pages/index/index'</span>, &#123; <span class="attr">waitUntil</span>: <span class="string">'networkidle2'</span> &#125;);</span><br><span class="line">            <span class="keyword">const</span> frames = <span class="keyword">await</span> page.frames();</span><br><span class="line">            <span class="keyword">const</span> weChatFrame = frames.find(<span class="function"><span class="params">f</span> =&gt;</span> f.name() === <span class="string">'view-0'</span>);</span><br><span class="line">            <span class="keyword">const</span> outerText = <span class="keyword">await</span> weChatFrame.evaluate(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> anchors = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.container'</span>));</span><br><span class="line">                <span class="keyword">return</span> anchors.map(<span class="function"><span class="params">anchor</span> =&gt;</span> anchor.textContent);</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'the outerText: '</span>, outerText);</span><br><span class="line">            expect(outerText[<span class="number">0</span>]).toBe(<span class="string">'Hello WorldHello World'</span>);</span><br><span class="line">            <span class="keyword">await</span> browser.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>运行效果：</p><p><img src="https://cl.ly/3n2W2w3K2J3e/Image%202018-05-19%20at%207.23.18%20PM.png" alt="img"></p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>此套方案的优点是易于 set up，无需代理，支持目前所有的小程序API，可使用 Chrome 调试。缺点是 wept 项目作者不再继续维护，并且测试环境和正式环境有一定差异。</p><p>另外小程序官方也有一个云测试，但是一个开发者 24 小时内只能提交一次。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;准备工作&quot;&gt;&lt;a href=&quot;#准备工作&quot; class=&quot;headerlink&quot; title=&quot;准备工作&quot;&gt;&lt;/a&gt;准备工作&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://nodejs.org/en/&quot; target=&quot;_blank&quot; rel=&quot;no
      
    
    </summary>
    
    
    
      <category term="小程序" scheme="http://jing1.moe/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>小米路由器 3 折腾记录</title>
    <link href="http://jing1.moe/2017/09/03/mi-router3-drcom/"/>
    <id>http://jing1.moe/2017/09/03/mi-router3-drcom/</id>
    <published>2017-09-02T16:00:00.000Z</published>
    <updated>2020-01-13T12:28:29.500Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文记录如何将校园网客户端 Drcom 刷进小米路由器3以及在路由器中安装科学上网服务。</p></blockquote><h2 id="获取SSH权限"><a href="#获取SSH权限" class="headerlink" title="获取SSH权限"></a>获取SSH权限</h2><h3 id="升级固件"><a href="#升级固件" class="headerlink" title="升级固件"></a>升级固件</h3><p>在<a href="http://www1.miwifi.com/miwifi_download.html" target="_blank" rel="noopener">官网</a>下载小米路由器3开发版ROM并升级。</p><h3 id="开启SSH工具"><a href="#开启SSH工具" class="headerlink" title="开启SSH工具"></a>开启SSH工具</h3><p>在<a href="http://d.miwifi.com/rom/ssh" target="_blank" rel="noopener">官网</a>获取root密码及工具包</p><p>然后按照以下步骤进行：</p><ol><li>请将下载的工具包bin文件复制到U盘（FAT/FAT32格式）的根目录下，保证文件名为miwifi_ssh.bin；</li><li>断开小米路由器的电源，将U盘插入USB接口；</li><li>按住reset按钮之后重新接入电源，指示灯变为黄色闪烁状态即可松开reset键；</li><li>等待3-5秒后安装完成之后，小米路由器会自动重启，之后您就可以尽情折腾啦 : )</li></ol><h3 id="SSH登陆"><a href="#SSH登陆" class="headerlink" title="SSH登陆"></a>SSH登陆</h3><p>使用 PuTTy 或者 Xshell 连接登陆。</p><p>初始 IP 地址为192.168.31.1，端口 22，用户名 root，密码即为在官网获取的 root 密码。</p><h2 id="安装-opkg"><a href="#安装-opkg" class="headerlink" title="安装 opkg"></a>安装 opkg</h2><h3 id="提取opkg"><a href="#提取opkg" class="headerlink" title="提取opkg"></a>提取opkg</h3><p>可以直接下载这个提取好的<a href="https://el-chiang.github.io/2017/09/03/小米路由器3折腾记录/opkg" target="_blank" rel="noopener">opkg</a>文件</p><h3 id="修改-etc-opkg-conf文件"><a href="#修改-etc-opkg-conf文件" class="headerlink" title="修改 /etc/opkg.conf文件"></a>修改 <code>/etc/opkg.conf</code>文件</h3><p>替换为以下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">src&#x2F;gz attitude_adjustment_base http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ramips&#x2F;mt7620a&#x2F;packages&#x2F;base</span><br><span class="line">src&#x2F;gz attitude_adjustment_packages http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ramips&#x2F;mt7620a&#x2F;packages&#x2F;packages&#x2F;</span><br><span class="line">src&#x2F;gz attitude_adjustment_luci http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ramips&#x2F;mt7620a&#x2F;packages&#x2F;luci&#x2F;</span><br><span class="line">src&#x2F;gz attitude_adjustment_management http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ramips&#x2F;mt7620a&#x2F;packages&#x2F;management&#x2F;</span><br><span class="line">src&#x2F;gz attitude_adjustment_oldpackages http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ramips&#x2F;mt7620a&#x2F;packages&#x2F;oldpackages&#x2F;</span><br><span class="line">src&#x2F;gz attitude_adjustment_routing http:&#x2F;&#x2F;downloads.openwrt.org&#x2F;barrier_breaker&#x2F;14.07&#x2F;ramips&#x2F;mt7620a&#x2F;packages&#x2F;routing&#x2F;</span><br><span class="line">src&#x2F;gz openwrt_dist http:&#x2F;&#x2F;openwrt-dist.sourceforge.net&#x2F;releases&#x2F;ramips&#x2F;packages</span><br><span class="line">src&#x2F;gz openwrt_dist_luci http:&#x2F;&#x2F;openwrt-dist.sourceforge.net&#x2F;releases&#x2F;luci&#x2F;packages</span><br><span class="line">dest root &#x2F;data</span><br><span class="line">dest ram &#x2F;tmp</span><br><span class="line">lists_dir ext &#x2F;data&#x2F;var&#x2F;opkg-lists</span><br><span class="line">option overlay_root &#x2F;data</span><br><span class="line">arch all 100</span><br><span class="line">arch ramips 200</span><br><span class="line">arch ramips_24kec 300</span><br></pre></td></tr></table></figure><h3 id="添加环境变量。"><a href="#添加环境变量。" class="headerlink" title="添加环境变量。"></a>添加环境变量。</h3><p>修改<code>/etc/profile</code>文件，找到<code>export PATH</code>一行并修改为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH&#x3D;&#x2F;bin:&#x2F;sbin:&#x2F;usr&#x2F;bin:&#x2F;usr&#x2F;sbin:&#x2F;data&#x2F;usr&#x2F;sbin:&#x2F;data</span><br></pre></td></tr></table></figure><p>再在这一行下面添加一行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LD_LIBRARY_PATH&#x3D;&#x2F;data&#x2F;usr&#x2F;lib</span><br></pre></td></tr></table></figure><h3 id="修改权限"><a href="#修改权限" class="headerlink" title="修改权限"></a>修改权限</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 &#x2F;data&#x2F;opkg</span><br></pre></td></tr></table></figure><h3 id="使环境变量立即生效"><a href="#使环境变量立即生效" class="headerlink" title="使环境变量立即生效"></a>使环境变量立即生效</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/data/usr/bin:/data/usr/sbin</span><br><span class="line">export LD_LIBRARY_PATH=LD_LIBRARY_PATH:/data/usr/lib</span><br></pre></td></tr></table></figure><p>或者直接使用<code>reboot</code>命令重启即可。</p><h3 id="更新opkg"><a href="#更新opkg" class="headerlink" title="更新opkg"></a>更新opkg</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">opkg update</span><br></pre></td></tr></table></figure><h2 id="安装-Python"><a href="#安装-Python" class="headerlink" title="安装 Python"></a>安装 Python</h2><h3 id="安装-libc"><a href="#安装-libc" class="headerlink" title="安装 libc"></a>安装 libc</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http://downloads.openwrt.org/barrier_breaker/14.07/ramips/mt7620a/packages/base/libc_0.9.33.2-1_ramips_24kec.ipk</span><br><span class="line">opkg install libc_0.9.33.2-1_ramips_24kec.ipk</span><br></pre></td></tr></table></figure><h3 id="安装-Python-1"><a href="#安装-Python-1" class="headerlink" title="安装 Python"></a>安装 Python</h3><ol><li><p>执行以下代码：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">opkg install libreadline</span><br><span class="line">opkg install libffi</span><br><span class="line">opkg install python</span><br></pre></td></tr></table></figure></li><li><p>添加环境变量</p><p>修改 <code>/etc/profile</code>文件，在PATH一行后面添加<code>:/data/usr/bin</code>。</p></li><li><p>使环境变量即使生效（或者直接<code>reboot</code>重启。）：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/bin:/sbin:/usr/bin:/usr/sbin:/data:/data/usr/bin</span><br></pre></td></tr></table></figure></li></ol><p>之后输入<code>python --version</code>显示出python版本号则说明已经安装完毕。</p><h2 id="将-Dr-com-装进路由器"><a href="#将-Dr-com-装进路由器" class="headerlink" title="将 Dr.com 装进路由器"></a>将 Dr.com 装进路由器</h2><p>Drcom 脚本GitHub地址：<a href="https://github.com/drcoms/drcom-generic" target="_blank" rel="noopener">https://github.com/drcoms/drcom-generic</a></p><p>我们学校已经抓好包的 <a href="https://el-chiang.github.io/2017/09/03/小米路由器3折腾记录/drcom.py" target="_blank" rel="noopener">drcom.py</a>，下载后找到 <code>username</code> 和 <code>password</code> ，将自己的账号密码填入就能直接使用。</p><p>使用 WinSCP 将 <code>drcom.py</code> 传入 <code>/data</code> 目录下，然后</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python drcom.py $</span><br></pre></td></tr></table></figure><blockquote><p>(命令末尾添加$表示加入后台运行)</p></blockquote><p>现在应该就能够用使用路由器登陆 Drcom 上网了。</p><h2 id="安装-Shadowsocks"><a href="#安装-Shadowsocks" class="headerlink" title="安装 Shadowsocks"></a>安装 Shadowsocks</h2><p>Misstar Tools是一个小米路由器工具箱，能够拓展各种插件，工具。下面利用这个工具箱来安装ss。</p><h3 id="插件安装"><a href="#插件安装" class="headerlink" title="插件安装"></a>插件安装</h3><p>一键安装命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://www.misstar.com/tools/appstore/install.sh -O /tmp/install.sh &amp;&amp; chmod +x /tmp/install.sh &amp;&amp; /tmp/install.sh</span><br></pre></td></tr></table></figure><p>之后登陆 <a href="https://blog.jing1.moe/2017/09/03/小米路由器3折腾记录/192.168.31.1" target="_blank" rel="noopener">192.168.31.1</a> 刷新网页就能看到了。</p><p>在插件管理中安装 SS，之后填入节点并连接就能使用路由器翻墙啦。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;本文记录如何将校园网客户端 Drcom 刷进小米路由器3以及在路由器中安装科学上网服务。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;获取SSH权限&quot;&gt;&lt;a href=&quot;#获取SSH权限&quot; class=&quot;headerlink&quot; title=
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>在 Hexo 中插入 LaTeX 数学公式</title>
    <link href="http://jing1.moe/2017/08/03/latex-in-hexo/"/>
    <id>http://jing1.moe/2017/08/03/latex-in-hexo/</id>
    <published>2017-08-02T16:00:00.000Z</published>
    <updated>2020-01-12T19:47:01.800Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>由于最近开始学习机器学习，同时想利用博客做点笔记，并且经常会出现大量数学公式，而原生 Hexo 并不支持 LaTeX 公式，但通过一些插件可以解决这个问题，如 MathJax。所以本文主要说明如何在 Hexo 中利用 MathJax 显示数学公式以及如何解决其中遇到的一些冲突问题。</p></blockquote><h2 id="插件安装"><a href="#插件安装" class="headerlink" title="插件安装"></a>插件安装</h2><p>安装方法如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install hexo-math --save</span></span><br></pre></td></tr></table></figure><p>执行：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo math install</span></span><br></pre></td></tr></table></figure><p>在 <code>_config.yml</code> 中添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">hexo-math</span></span><br></pre></td></tr></table></figure><p>另外，有些 Hexo 主题是自带 MathJax 的，如本站使用的主题 NexT。这样的话就简单了，只需要在主题配置文件 <code>_config.yml</code> 中找到 <code>Third Party Services Settings</code> ，将 <code>false</code> 改为 <code>ture</code>。如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mathjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">cdn:</span> <span class="string">//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTM</span></span><br></pre></td></tr></table></figure><p>之后就可以在 markdown 中插入 LaTeX 数学公式了。</p><h2 id="使用-MathJax-插入数学公式"><a href="#使用-MathJax-插入数学公式" class="headerlink" title="使用 MathJax 插入数学公式"></a>使用 MathJax 插入数学公式</h2><p>具体用法请见 <a href="http://catx.me/2014/03/09/hexo-mathjax-plugin/" target="_blank" rel="noopener">Hexo MathJax 插件</a>。</p><h2 id="解决-Hexo-与-LaTeX-语法冲突问题"><a href="#解决-Hexo-与-LaTeX-语法冲突问题" class="headerlink" title="解决 Hexo 与 LaTeX 语法冲突问题"></a>解决 Hexo 与 LaTeX 语法冲突问题</h2><h3 id="问题描述："><a href="#问题描述：" class="headerlink" title="问题描述："></a>问题描述：</h3><p>有些时候会出现无法正确渲染的问题，原因是当遇到某些特殊符号时，如 <code>\</code> 或者 <code>_</code>，转 HTML 文件中优先按 Markdown 语法处理，导致 MathJax 无法得到正确的 LaTeX 语句。</p><h3 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h3><p>找到 <code>/node_modules/marked/lib/</code> 中的 <code>marked.js</code> 作如下修改：</p><ol><li><p>修改 escape</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># escape: /^\\([\\`*&#123;&#125;\[\]()# +\-.!_&gt;])/,</span><br><span class="line"><span class="built_in">escape</span>: <span class="regexp">/^\\([`*\[\]()#+\-._&gt;])/</span>,</span><br></pre></td></tr></table></figure></li><li><p>修改 em</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># em: /^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span><br><span class="line">em:<span class="regexp">/^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</span><br></pre></td></tr></table></figure></li></ol><p>这样就取消了对某些特殊字符的转义。</p><h3 id="测试效果"><a href="#测试效果" class="headerlink" title="测试效果"></a>测试效果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$\int_&#123;0&#125;^&#123;\frac&#123;\pi&#125;&#123;2&#125;&#125;dxdy$</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;由于最近开始学习机器学习，同时想利用博客做点笔记，并且经常会出现大量数学公式，而原生 Hexo 并不支持 LaTeX 公式，但通过一些插件可以解决这个问题，如 MathJax。所以本文主要说明如何在 Hexo 中利用 MathJax 显示数学公式以
      
    
    </summary>
    
    
    
      <category term="Hexo" scheme="http://jing1.moe/tags/Hexo/"/>
    
      <category term="LaTeX" scheme="http://jing1.moe/tags/LaTeX/"/>
    
  </entry>
  
</feed>
